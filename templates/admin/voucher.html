{% extends "admin.html" %}
{% block content %}

<style>
  .table-responsive {
    max-height: 650px;
    overflow-y: auto;
  }
  thead th {
    position: sticky;
    top: 0;
    background: #0d6efd;
    color: white;
    z-index: 5;
  }
</style>

<div class="card shadow-sm p-4 bg-white">
  <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap">
    <h2 class="text-primary mb-2">ğŸ“‰ Quáº£n lÃ½ MÃ£ giáº£m giÃ¡</h2>

    <form method="POST" action="{{ url_for('add_voucher') }}" class="d-flex gap-2">
      <input type="text" name="name_voucher" class="form-control" placeholder="TÃªn mÃ£ giáº£m giÃ¡" required>
      <input type="number" name="percent" class="form-control" placeholder="% giáº£m" min="1" max="100" required>
      <input type="number" name="quantity" class="form-control" placeholder="Sá»‘ lÆ°á»£ng" min="1" required>
      <button type="submit" class="btn btn-success">â• ThÃªm</button>
    </form>
  </div>

  <div class="table-responsive">
    <table class="table table-hover align-middle text-center">
      <thead>
        <tr>
          <th>ID</th>
          <th>TÃªn mÃ£</th>
          <th>% Giáº£m</th>
          <th>Sá»‘ lÆ°á»£ng</th>
          <th>HÃ nh Ä‘á»™ng</th>
        </tr>
      </thead>
      <tbody>
        {% for v in vouchers %}
        <tr>
          <td>{{ v.id }}</td>
          <td>{{ v.name_voucher }}</td>
          <td class="text-danger fw-bold">{{ v.percent }}%</td>
          <td>{{ v.quantity }}</td>
          <td>
            <a href="{{ url_for('edit_voucher', id=v.id) }}" class="btn btn-warning btn-sm">âœï¸ Sá»­a</a>
            <a href="{{ url_for('delete_voucher', id=v.id) }}" class="btn btn-danger btn-sm" onclick="return confirm('XÃ³a mÃ£ nÃ y?')">ğŸ—‘ XÃ³a</a>
          </td>
        </tr>
        {% else %}
        <tr><td colspan="5" class="text-muted">ChÆ°a cÃ³ mÃ£ giáº£m giÃ¡ nÃ o</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}

