{% extends "admin.html" %}

{% block content %}
<style>
  /* Hi·ªáu ·ª©ng ƒë·∫πp cho card v√† b·∫£ng */
  .card {
    border-radius: 16px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
  }

  /* Gi·ªõi h·∫°n chi·ªÅu cao b·∫£ng + thanh cu·ªôn d·ªçc */
  .table-container {
    max-height: 580px;
    overflow-y: auto;
    border-radius: 8px;
  }

  /* L√†m ƒë·∫πp thanh cu·ªôn */
  .table-container::-webkit-scrollbar {
    width: 8px;
  }
  .table-container::-webkit-scrollbar-thumb {
    background-color: #0d6efd;
    border-radius: 4px;
  }

  /* Hi·ªáu ·ª©ng hover t·ª´ng h√†ng */
  table tbody tr:hover {
    background-color: #f1f8ff;
    transition: 0.2s ease;
  }

  /* C·∫£i thi·ªán hi·ªÉn th·ªã tr√™n mobile */
  @media (max-width: 768px) {
    .d-flex.gap-2 {
      flex-direction: column;
    }
    form input {
      width: 100%;
    }
    form button {
      width: 100%;
    }
  }
</style>

<div class="card shadow-sm p-4 bg-white">
  <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap">
    <h2 class="text-primary mb-3">üìñ Qu·∫£n l√Ω Th·ªÉ lo·∫°i</h2>
  </div>

  <!-- Form th√™m th·ªÉ lo·∫°i -->
  <form method="POST" action="{{ url_for('add_type') }}" class="d-flex gap-2 mb-4 flex-wrap">
    <input type="text" name="name" class="form-control" placeholder="Nh·∫≠p t√™n th·ªÉ lo·∫°i m·ªõi..." required>
    <button type="submit" class="btn btn-success px-4">‚ûï Th√™m</button>
  </form>

  <!-- B·∫£ng th·ªÉ lo·∫°i c√≥ thanh cu·ªôn -->
  <div class="table-container">
    <table class="table table-hover align-middle table-bordered mb-0">
      <thead class="table-primary text-center sticky-top">
        <tr>
          <th style="width: 10%;">ID</th>
          <th style="width: 65%;">T√™n th·ªÉ lo·∫°i</th>
          <th style="width: 25%;">H√†nh ƒë·ªông</th>
        </tr>
      </thead>
      <tbody>
        {% for t in types %}
        <tr>
          <td class="text-center fw-semibold">{{ t.id }}</td>
          <td>{{ t.name }}</td>
          <td class="text-center">
            <a href="{{ url_for('edit_type', id=t.id) }}" class="btn btn-warning btn-sm me-1">‚úèÔ∏è S·ª≠a</a>
            <a href="{{ url_for('delete_type', id=t.id) }}" class="btn btn-danger btn-sm" onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a th·ªÉ lo·∫°i n√†y?')">üóë X√≥a</a>
          </td>
        </tr>
        {% else %}
        <tr>
          <td colspan="3" class="text-center text-muted py-3">Ch∆∞a c√≥ th·ªÉ lo·∫°i n√†o</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
